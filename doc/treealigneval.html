<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>treealigneval - a script for computing precision and recall scores for tree aligmnent</title>
<link rel="stylesheet" href="/~joerg/css/pod.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:_securityagent@gamma.local" />
</head>

<body>


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<ul>

		<li><a href="#options">OPTIONS</a></li>
	</ul>

	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#copyright_and_license">COPYRIGHT AND LICENSE</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>treealigneval - a script for computing precision and recall scores for tree aligmnent</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
    treealigneval [OPTIONS] gold-standard-file tree-alignment-file</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Both <em class="file">gold-standard-file</em> and <em class="file">tree-alignment-file</em> should be in Stockholm Tree Aligner Format. Here is an example:</p>
<pre>
 &lt;?xml version=&quot;1.0&quot; ?&gt;
 &lt;treealign&gt;
 &lt;head&gt;
  &lt;alignment-metadata&gt;
    &lt;date&gt;Tue May  4 16:23:04 2010&lt;/date&gt;
    &lt;author&gt;Lingua-Align&lt;/author&gt;
  &lt;/alignment-metadata&gt;
 &lt;/head&gt;
  &lt;treebanks&gt;
    &lt;treebank filename=&quot;treebanks/en/smultron_en_sophie.xml&quot; id=&quot;en&quot;/&gt;
    &lt;treebank filename=&quot;treebanks/sv/smultron_sv_sophie.xml&quot; id=&quot;sv&quot;/&gt;
  &lt;/treebanks&gt;
  &lt;alignments&gt;
    &lt;align author=&quot;Lingua-Align&quot; prob=&quot;0.11502659612149206125&quot; type=&quot;fuzzy&quot;&gt;
      &lt;node node_id=&quot;s105_17&quot; type=&quot;t&quot; treebank_id=&quot;en&quot;/&gt;
      &lt;node node_id=&quot;s109_23&quot; type=&quot;t&quot; treebank_id=&quot;sv&quot;/&gt;
    &lt;/align&gt;
    &lt;align author=&quot;Lingua-Align&quot; prob=&quot;0.45281832125339427364&quot; type=&quot;fuzzy&quot;&gt;
      &lt;node node_id=&quot;s105_34&quot; type=&quot;t&quot; treebank_id=&quot;en&quot;/&gt;
      &lt;node node_id=&quot;s109_15&quot; type=&quot;t&quot; treebank_id=&quot;sv&quot;/&gt;
    &lt;/align&gt;
  &lt;/alignments&gt;
 &lt;/treealign&gt;</pre>
<p>The <code>treealigneval</code> script will read both files and compare the links. It will output precision, recall and F values. Here is an example output:</p>
<pre>
 --------------------------------------------------------
         precision (ALL/NT:NT) = 76.27 (1896/2486)
            recall (ALL/NT:NT) = 77.96 (1896/2432)
        balanced F (ALL/NT:NT) = 77.10
 --------------------------------------------------------
           precision (ALL/T:T) = 73.48 (2626/3574)
              recall (ALL/T:T) = 72.48 (2626/3623)
          balanced F (ALL/T:T) = 72.97
 --------------------------------------------------------
       precision (fuzzy/NT:NT) = 15.78 (101/640)
          recall (fuzzy/NT:NT) = 19.39 (101/521)
      balanced F (fuzzy/NT:NT) = 17.40
 --------------------------------------------------------
         precision (fuzzy/T:T) =  5.40 (50/926)
            recall (fuzzy/T:T) = 17.36 (50/288)
        balanced F (fuzzy/T:T) =  8.24
 --------------------------------------------------------
        precision (good/NT:NT) = 67.23 (1241/1846)
           recall (good/NT:NT) = 65.32 (1241/1900)
       balanced F (good/NT:NT) = 66.26
 --------------------------------------------------------
          precision (good/T:T) = 78.32 (2074/2648)
             recall (good/T:T) = 62.19 (2074/3335)
         balanced F (good/T:T) = 69.33
 =======================================
  precision (all) = 74.62 (4522/6060)
     recall (all) = 74.68 (4522/6055)
    recall (good) = 76.06 (3982/5235)
   recall (fuzzy) = 65.85 (540/820)
 =======================================
 F (P_all &amp; R_all)  = 74.65
 F (P_all &amp; R_good) = 75.34
 =======================================</pre>
<p><code>NT</code> refers to non-terminal nodes and <code>T</code> refers to terminal nodes (treealigneval uses type attributes in the alignment file to determine if a node is a terminal node or a non-terminal node; if this attribute is not included it assumes that all nodes with an ID&lt;500 is a terminal node). Precision and recall values for specific link types may be lower than the overall numbers because the proposed link type has to match whereas in the total numbers all proposed links are considered.</p>
<p>
</p>
<h2><a name="options">OPTIONS</a></h2>
<dl>
<dt><strong><a name="b_firstsentid" class="item">-b firstSentId</a></strong></dt>

<dd>
<p>Start evaluating at this source language sentence ID. If you don't specify -b the evaluation script will use all sentences for which at least one link has been proposed. That means that the scores might be too high because the aligner may just not have aligned anything for in some sentence pairs (usually it will be fine).</p>
</dd>
<dt><strong><a name="e_lastsentid" class="item">-e lastSentId</a></strong></dt>

<dd>
<p>Stop evaluating at this source language sentence ID. This is for the same reason as for -b.</p>
</dd>
<dt><strong><a name="g_format" class="item">-g format</a></strong></dt>

<dd>
<p>This specifies the format of the gold standard file. Default is <code>sta</code> (Stockholm Tree Aligner format). Other formats are not really included/tested yet. An alternative would be, for example, the format of the Dublin Subtree Aligner.</p>
</dd>
<dt><strong><a name="s_format" class="item">-s format</a></strong></dt>

<dd>
<p>The format of the tree aligmnets proposed by the system. Default is again <code>sta</code>.</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="/~joerg/Lingua/treealign.html">the Lingua::treealign manpage</a>,
<a href="/~joerg/Lingua/Align/Trees.html">the Lingua::Align::Trees manpage</a></p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Joerg Tiedemann</p>
<p>
</p>
<hr />
<h1><a name="copyright_and_license">COPYRIGHT AND LICENSE</a></h1>
<p>Copyright (C) 2009 by Joerg Tiedemann</p>
<p>This library is free software; you can redistribute it and/or modify
it under the same terms as Perl itself, either Perl version 5.8.8 or,
at your option, any later version of Perl 5 you may have available.</p>

</body>

</html>
